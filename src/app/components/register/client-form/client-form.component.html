@if(user){
  @if(!isEditing){
    <div class="profil-details space-y-4">
      <ul class="space-y-2">
        <li><strong>Prénom:</strong> {{ user.client?.firstname }}</li>
        <li><strong>Nom:</strong> {{ user.client?.lastname }}</li>
        <li><strong>Ville:</strong> {{ user.client?.city }}</li>
        <li><strong>Pays:</strong> {{ user.client?.country }}</li>
        <li><strong>Code postal:</strong> {{ user.client?.postalCode }}</li>
        <li><strong>Téléphone:</strong> {{ user.client?.phone }}</li>
        <li><strong>Adresse de facturation:</strong> {{ user.client?.billingAdress }}</li>
      </ul>
    </div>
  } @else if(user.client){
    <div class="profil-edit space-y-6">
      <!-- Prénom -->
      <div class="group">
        <label for="firstname" class="block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2 transition-colors group-focus-within:text-green-700">
          <i class="ri-user-line mr-2"></i>
          Prénom
        </label>
        <div class="relative">
          <input
            pInputText
            type="text"
            id="firstname"
            name="firstname"
            [(ngModel)]="user.client.firstname"
            required
            placeholder="Votre prénom"
            class="w-full px-4 py-3 border-2 border-gray-200 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 transition-all duration-300 focus:border-green-700 focus:ring-4 focus:ring-green-700/10" />
          <div class="absolute inset-y-0 right-0 flex items-center pr-3">
            <i class="ri-check-line text-green-700 opacity-0 transition-opacity duration-300"
               [class.opacity-100]="user.client.firstname && user.client.firstname.length > 0"></i>
          </div>
        </div>
        @if(clientFormErrors?.firstname){
          <div class="flex items-center gap-2 mt-2 text-red-600 dark:text-red-400 text-sm">
            <i class="ri-error-warning-line"></i>
            <span>{{ clientFormErrors.firstname }}</span>
          </div>
        }
      </div>

      <!-- Nom -->
      <div class="group">
        <label for="lastname" class="block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2 transition-colors group-focus-within:text-green-700">
          <i class="ri-user-line mr-2"></i>
          Nom
        </label>
        <div class="relative">
          <input
            pInputText
            type="text"
            id="lastname"
            name="lastname"
            [(ngModel)]="user.client.lastname"
            required
            placeholder="Votre nom"
            class="w-full px-4 py-3 border-2 border-gray-200 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 transition-all duration-300 focus:border-green-700 focus:ring-4 focus:ring-green-700/10" />
          <div class="absolute inset-y-0 right-0 flex items-center pr-3">
            <i class="ri-check-line text-green-700 opacity-0 transition-opacity duration-300"
               [class.opacity-100]="user.client.lastname && user.client.lastname.length > 0"></i>
          </div>
        </div>
        @if(clientFormErrors?.lastname){
          <div class="flex items-center gap-2 mt-2 text-red-600 dark:text-red-400 text-sm">
            <i class="ri-error-warning-line"></i>
            <span>{{ clientFormErrors.lastname }}</span>
          </div>
        }
      </div>

      <!-- Ville -->
      <div class="group">
        <label for="city" class="block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2 transition-colors group-focus-within:text-green-700">
          <i class="ri-map-pin-line mr-2"></i>
          Ville
        </label>
        <div class="relative">
          <input
            pInputText
            type="text"
            id="city"
            name="city"
            [(ngModel)]="user.client.city"
            required
            placeholder="Votre ville"
            class="w-full px-4 py-3 border-2 border-gray-200 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 transition-all duration-300 focus:border-green-700 focus:ring-4 focus:ring-green-700/10" />
          <div class="absolute inset-y-0 right-0 flex items-center pr-3">
            <i class="ri-check-line text-green-700 opacity-0 transition-opacity duration-300"
               [class.opacity-100]="user.client.city && user.client.city.length > 0"></i>
          </div>
        </div>
        @if(clientFormErrors?.city){
          <div class="flex items-center gap-2 mt-2 text-red-600 dark:text-red-400 text-sm">
            <i class="ri-error-warning-line"></i>
            <span>{{ clientFormErrors.city }}</span>
          </div>
        }
      </div>

      <!-- Pays -->
      <div class="group">
        <label for="country" class="block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2 transition-colors group-focus-within:text-green-700">
          <i class="ri-earth-line mr-2"></i>
          Pays
        </label>
        <div class="relative">
          <input
            pInputText
            type="text"
            id="country"
            name="country"
            [(ngModel)]="user.client.country"
            required
            placeholder="Votre pays"
            class="w-full px-4 py-3 border-2 border-gray-200 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 transition-all duration-300 focus:border-green-700 focus:ring-4 focus:ring-green-700/10" />
          <div class="absolute inset-y-0 right-0 flex items-center pr-3">
            <i class="ri-check-line text-green-700 opacity-0 transition-opacity duration-300"
               [class.opacity-100]="user.client.country && user.client.country.length > 0"></i>
          </div>
        </div>
        @if(clientFormErrors?.country){
          <div class="flex items-center gap-2 mt-2 text-red-600 dark:text-red-400 text-sm">
            <i class="ri-error-warning-line"></i>
            <span>{{ clientFormErrors.country }}</span>
          </div>
        }
      </div>

      <!-- Code postal -->
      <div class="group">
        <label for="postalCode" class="block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2 transition-colors group-focus-within:text-green-700">
          <i class="ri-mail-line mr-2"></i>
          Code postal
        </label>
        <div class="relative">
          <input
            pInputText
            type="text"
            id="postalCode"
            name="postalCode"
            [(ngModel)]="user.client.postalCode"
            required
            maxlength="5"
            minlength="5"
            placeholder="12345"
            class="w-full px-4 py-3 border-2 border-gray-200 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 transition-all duration-300 focus:border-green-700 focus:ring-4 focus:ring-green-700/10" />
          <div class="absolute inset-y-0 right-0 flex items-center pr-3">
            <i class="ri-check-line text-green-700 opacity-0 transition-opacity duration-300"
               [class.opacity-100]="user.client.postalCode && user.client.postalCode.length === 5"></i>
          </div>
        </div>
        @if(clientFormErrors?.postalCode){
          <div class="flex items-center gap-2 mt-2 text-red-600 dark:text-red-400 text-sm">
            <i class="ri-error-warning-line"></i>
            <span>{{ clientFormErrors.postalCode }}</span>
          </div>
        }
      </div>

      <!-- Téléphone -->
      <div class="group">
        <label for="phone" class="block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2 transition-colors group-focus-within:text-green-700">
          <i class="ri-phone-line mr-2"></i>
          Téléphone
        </label>
        <div class="relative">
          <input
            pInputText
            type="tel"
            id="phone"
            name="phone"
            [(ngModel)]="user.client.phone"
            required
            minlength="12"
            maxlength="12"
            placeholder="123-456-7891"
            class="w-full px-4 py-3 border-2 border-gray-200 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 transition-all duration-300 focus:border-green-700 focus:ring-4 focus:ring-green-700/10" />
          <div class="absolute inset-y-0 right-0 flex items-center pr-3">
            <i class="ri-check-line text-green-700 opacity-0 transition-opacity duration-300"
               [class.opacity-100]="user.client.phone && user.client.phone.length === 12"></i>
          </div>
        </div>
        @if(clientFormErrors?.phone){
          <div class="flex items-center gap-2 mt-2 text-red-600 dark:text-red-400 text-sm">
            <i class="ri-error-warning-line"></i>
            <span>{{ clientFormErrors.phone }}</span>
          </div>
        }
      </div>

      <!-- Adresse de facturation -->
      <div class="group">
        <label for="billingAdress" class="block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2 transition-colors group-focus-within:text-green-700">
          <i class="ri-home-line mr-2"></i>
          Adresse de facturation
        </label>
        <div class="relative">
          <input
            pInputText
            type="text"
            id="billingAdress"
            name="billingAdress"
            [(ngModel)]="user.client.billingAdress"
            required
            placeholder="Votre adresse de facturation"
            class="w-full px-4 py-3 border-2 border-gray-200 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 transition-all duration-300 focus:border-green-700 focus:ring-4 focus:ring-green-700/10" />
          <div class="absolute inset-y-0 right-0 flex items-center pr-3">
            <i class="ri-check-line text-green-700 opacity-0 transition-opacity duration-300"
               [class.opacity-100]="user.client.billingAdress && user.client.billingAdress.length > 0"></i>
          </div>
        </div>
        @if(clientFormErrors?.billingAdress){
          <div class="flex items-center gap-2 mt-2 text-red-600 dark:text-red-400 text-sm">
            <i class="ri-error-warning-line"></i>
            <span>{{ clientFormErrors.billingAdress }}</span>
          </div>
        }
      </div>
    </div>
  }
}
